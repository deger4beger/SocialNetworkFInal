{"version":3,"sources":["components/Dialogs/Dialogs.module.css","hoc/withAuthRedirect.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","DialogItem","path","id","className","s","dialogName","name","Message","dialog","message","Textarea","Element","composeValidators","validators","value","reduce","error","validator","undefined","maxLenght15","maxLenghtCreator","DialogsForm","onSubmit","handleSubmit","form","field1","sendArea","placeholder","component","validate","required","button","Dialogs","dialogsElements","messagesPage","dialogs","map","d","messagesElements","messages","m","dialogsItems","formData","sendMessage","messageText","compose","dispatch","sendMessageCreator"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,WAAa,4BAA4B,OAAS,wBAAwB,SAAW,0BAA0B,SAAW,0BAA0B,OAAS,wBAAwB,OAAS,wBAAwB,KAAO,wB,yJCG3TC,EAA6B,SAACC,GAAD,MAAY,CAC3CC,OAAQD,EAAME,KAAKD,SAGRE,EAAmB,SAACC,GAAe,IACzCC,EADwC,uKAG5C,OAAKC,KAAKC,MAAMN,OACR,cAACG,EAAD,eAAeE,KAAKC,QADG,cAAC,IAAD,CAAUC,GAAG,eAHA,GACdC,IAAML,WAStC,OAFqCM,YAAQX,EAARW,CAAoCL,K,sFCH3DM,MAVf,SAAoBJ,GACnB,IAAIK,EAAO,YAAcL,EAAMM,GAE/B,OACA,qBAAKC,UAAWC,IAAEC,WAAlB,SACC,cAAC,IAAD,CAASR,GAAII,EAAb,SAAoBL,EAAMU,UCFbC,MAJf,SAAiBX,GAChB,OAAO,qBAAKO,UAAWC,IAAEI,OAAlB,SAA2BZ,EAAMa,W,yBCInCC,EAAWC,YAAQ,YAEnBC,EAAoB,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAmB,SAAAC,GAAK,OAChDD,EAAWE,QAAO,SAACC,EAAOC,GAAR,OAAsBD,GAASC,EAAUH,UAAQI,KAE/DC,EAAcC,YAAiB,IAGrC,SAASC,EAAYzB,GACpB,OACC,cAAC,IAAD,CACA0B,SAAU1B,EAAM0B,SADhB,SAEE,gBAAGC,EAAH,EAAGA,aAAH,EAAiBC,KAAjB,OACA,sBAAMF,SAAUC,EAAhB,SACC,sBAAKpB,UAAWC,IAAEoB,KAAlB,UACC,qBAAKrB,UAAWC,IAAEqB,OAAlB,SACC,cAAC,IAAD,CAAOvB,GAAG,cACNC,UAAWC,IAAEsB,SACbC,YAAY,qBACZrB,KAAM,cAAesB,UAAWlB,EAChCmB,SAAUjB,EAAkBkB,IAAUX,OAE3C,wBAAQhB,UAAWC,IAAE2B,OAArB,kCAoCSC,MA5Bf,SAAiBpC,GAEhB,IAAIqC,EAAkBrC,EAAMsC,aAAaC,QACvCC,KAAK,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAY/B,KAAM+B,EAAE/B,MAAW+B,EAAEnC,OAEzCoC,EAAmB1C,EAAMsC,aAAaK,SACxCH,KAAK,SAAAI,GAAC,OAAI,cAAC,EAAD,CAAS/B,QAAS+B,EAAE/B,SAAc+B,EAAEtC,OAMhD,OACC,sBAAKC,UAAWC,IAAE+B,QAAlB,UAEC,qBAAKhC,UAAWC,IAAEqC,aAAlB,SACER,IAGF,sBAAK9B,UAAWC,IAAEmC,SAAlB,UACED,EACD,cAACjB,EAAD,CAAaC,SAbS,SAACoB,EAAUlB,GACnC5B,EAAM+C,YAAYD,EAASE,uB,yBCzBdC,sBACd9C,aAfqB,SAACV,GACtB,MAAO,CACN6C,aAAc7C,EAAM6C,iBAIG,SAACY,GACzB,MAAO,CACNH,YAAa,SAAClC,GACbqC,EAASC,YAAmBtC,SAO9BjB,IAFcqD,CAGbb","file":"static/js/4.d4a9e099.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2e4Km\",\"dialogsItems\":\"Dialogs_dialogsItems__zXd7J\",\"dialogName\":\"Dialogs_dialogName__3csjS\",\"dialog\":\"Dialogs_dialog__UAh-p\",\"messages\":\"Dialogs_messages__3mfoY\",\"sendArea\":\"Dialogs_sendArea__2Pqbj\",\"button\":\"Dialogs_button__3FB0X\",\"field1\":\"Dialogs_field1__Xd2D7\",\"form\":\"Dialogs_form__1AXw-\"};","import {Redirect} from \"react-router-dom\"\r\nimport React from \"react\"\r\nimport {connect} from \"react-redux\"\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n\t\tisAuth: state.auth.isAuth\r\n\t})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) return <Redirect to=\"/login\" />\t\r\n\t\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n\treturn ConnectedAuthRedirectComponent\r\n}","import s from \"./../Dialogs.module.css\"\r\nimport {NavLink} from \"react-router-dom\"\r\n\r\nfunction DialogItem(props) {\r\n\tlet path = \"/dialogs/\" + props.id\r\n\r\n\treturn (\r\n\t<div className={s.dialogName}>\r\n\t\t<NavLink to={path}>{props.name}</NavLink>\r\n\t</div>\r\n\t)\r\n}\r\n\r\nexport default DialogItem","import s from \"./../Dialogs.module.css\"\r\n\r\nfunction Message(props) {\r\n\treturn <div className={s.dialog}>{props.message}</div>\r\n}\r\n\r\nexport default Message","import s from \"./Dialogs.module.css\"\r\nimport DialogItem from \"./DialogItem/DialogItem\"\r\nimport Message from \"./Message/Message\"\r\nimport {Form, Field} from \"react-final-form\"\r\nimport {Element} from \"../common/FormsControls/FormsControls\"\r\nimport {required, maxLenghtCreator} from \"../../utils/validators/validator\"\r\n\r\nconst Textarea = Element(\"textarea\")\r\n\r\nconst composeValidators = (...validators) => value =>\r\n  validators.reduce((error, validator) => error || validator(value), undefined)\r\n\r\nconst maxLenght15 = maxLenghtCreator(15)\r\n\r\n\r\nfunction DialogsForm(props) {\r\n\treturn (\t\r\n\t\t<Form\r\n\t\tonSubmit={props.onSubmit}>\r\n\t\t\t{({ handleSubmit, form }) => (\r\n\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t<div className={s.form}>\r\n\t\t\t\t\t\t<div className={s.field1} >\r\n\t\t\t\t\t\t\t<Field id=\"sendMessage\"\r\n\t\t\t\t\t\t \t\t  className={s.sendArea} \r\n\t\t\t\t\t\t \t\t  placeholder=\"Enter your message\"\r\n\t\t\t\t\t\t \t\t  name={\"messageText\"} component={Textarea}\r\n\t\t\t\t\t\t \t\t  validate={composeValidators(required, maxLenght15)}/>\t\r\n\t\t\t\t\t\t</div> \t\t  \t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button className={s.button}>Send message</button>\r\n\t\t\t\t\t</div>\t\t\r\n\t\t\t\t</form>\r\n\t\t\t)}\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nfunction Dialogs(props) {\r\n\r\n\tlet dialogsElements = props.messagesPage.dialogs\r\n\t\t.map( d => <DialogItem name={d.name} key={d.id} />)\r\n\r\n\tlet messagesElements = props.messagesPage.messages\r\n\t\t.map( m => <Message message={m.message} key={m.id}/>)\r\n\r\n\tlet onSendMessageClick = (formData, form) => {\r\n\t\tprops.sendMessage(formData.messageText)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={s.dialogs}>\r\n\r\n\t\t\t<div className={s.dialogsItems}>\r\n\t\t\t\t{dialogsElements}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={s.messages}>\r\n\t\t\t\t{messagesElements}\r\n\t\t\t\t<DialogsForm onSubmit={onSendMessageClick}/>\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dialogs","import {sendMessageCreator}\r\n     from \"../../redux/messagesReducer\"\r\nimport Dialogs from \"./Dialogs\"     \r\nimport {connect} from \"react-redux\"\r\nimport {withAuthRedirect} from \"./../../hoc/withAuthRedirect\"\r\nimport {compose} from \"redux\"\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmessagesPage: state.messagesPage,\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsendMessage: (message) => {\r\n\t\t\tdispatch(sendMessageCreator(message))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithAuthRedirect\r\n)(Dialogs)"],"sourceRoot":""}