(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{227:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var c=n(7),r=n(110),s=n(111),i=n(113),a=n(112),u=n(1),o=n(16),j=n(0),l=n.n(j),b=n(12),d=function(e){return{isAuth:e.auth.isAuth}},v=function(e){var t=function(t){Object(i.a)(j,t);var n=Object(a.a)(j);function j(){return Object(r.a)(this,j),n.apply(this,arguments)}return Object(s.a)(j,[{key:"render",value:function(){return this.props.isAuth?Object(u.jsx)(e,Object(c.a)({},this.props)):Object(u.jsx)(o.a,{to:"/login"})}}]),j}(l.a.Component);return Object(b.b)(d)(t)}},234:function(e,t,n){"use strict";n.r(t);var c=n(65),r=n(115),s=n(1),i=n(0),a=n(227),u=function(e){var t=e.wsChannel,n=Object(i.useState)([]),a=Object(r.a)(n,2),u=a[0],j=a[1];return Object(i.useEffect)((function(){var e=function(e){var t=JSON.parse(e.data);j((function(e){return[].concat(Object(c.a)(e),Object(c.a)(t))}))};return null===t||void 0===t||t.addEventListener("message",e),function(){null===t||void 0===t||t.removeEventListener("message",e)}}),[t]),Object(s.jsx)("div",{style:{height:"500px",overflowY:"auto"},children:u.map((function(e,t){return Object(s.jsx)(o,{message:e},t)}))})},o=function(e){var t=e.message;return Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{src:t.photo,style:{width:"30px"},alt:""}),Object(s.jsx)("b",{style:{marginLeft:"15px"},children:t.userName}),Object(s.jsx)("br",{}),t.message,Object(s.jsx)("hr",{})]})},j=function(e){var t=e.wsChannel,n=Object(i.useState)(""),c=Object(r.a)(n,2),a=c[0],u=c[1],o=Object(i.useState)("pending"),j=Object(r.a)(o,2),l=j[0],b=j[1];Object(i.useEffect)((function(){var e=function(){b("ready")};return null===t||void 0===t||t.addEventListener("open",e),function(){null===t||void 0===t||t.removeEventListener("open",e)}}),[t]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)("textarea",{onChange:function(e){return u(e.currentTarget.value)},value:a})}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:function(){a&&(null===t||void 0===t||t.send(a),u(""))},disabled:null===t||"pending"===l,children:"Send"})})]})};t.default=Object(a.a)((function(){var e=Object(i.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(i.useEffect)((function(){var e,t=function(){setTimeout(n,3e3)};function n(){var n,r;null===(n=e)||void 0===n||n.removeEventListener("close",t),null===(r=e)||void 0===r||r.close(),(e=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx")).addEventListener("close",t),c(e)}return n(),function(){e.removeEventListener("close",t),e.close()}}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)(u,{wsChannel:n}),Object(s.jsx)(j,{wsChannel:n})]})}))}}]);
//# sourceMappingURL=5.4cce55eb.chunk.js.map