{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Post","className","s","item","avaMessage","ava","src","message","like","likesCount","Textarea","Element","composeValidators","validators","value","reduce","error","validator","undefined","maxLenght10","maxLenghtCreator","MyPostsForm","onSubmit","handleSubmit","form","formArea","name","component","placeholder","validate","required","addPostButton","MyPosts","postsElements","posts","map","p","id","title","formData","addPost","postText","MyPostsContainer","profilePage","dispatch","addPostActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onBlur","updateStatus","autoFocus","onChange","e","target","statusText","onDoubleClick","Input","maxLength40","ProfileDataForm","profile","initialValues","type","Object","keys","contacts","key","ProfileData","isOwner","goToEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","Contact","ProfileInfo","isFetching","preloader","Preloader","info","photos","large","photo","userPhoto","files","length","savePhoto","changePhoto","errorMessage","saveProfile","then","Profile","ProfileContainer","userId","match","params","AuthUserId","history","push","getUserProfile","getStatus","refreshProfile","prevProps","compose","withRouter"],"mappings":"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","file":"static/js/3.00de56f7.chunk.js","sourcesContent":["import {Redirect} from \"react-router-dom\"\r\nimport React from \"react\"\r\nimport {connect} from \"react-redux\"\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n\t\tisAuth: state.auth.isAuth\r\n\t})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) return <Redirect to=\"/login\" />\t\r\n\t\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n\treturn ConnectedAuthRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"ProfileInfo_userPhoto__2fG__\",\"info\":\"ProfileInfo_info__187jL\",\"preloader\":\"ProfileInfo_preloader__2S6ny\",\"statusText\":\"ProfileInfo_statusText__2o2n8\",\"changePhoto\":\"ProfileInfo_changePhoto__1bCl_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__3SvE1\",\"form\":\"MyPosts_form__1m0Bw\",\"formArea\":\"MyPosts_formArea__1MA4c\",\"addPostButton\":\"MyPosts_addPostButton__3fj7U\",\"title\":\"MyPosts_title__29o0u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2UTyE\",\"avaMessage\":\"Post_avaMessage__YA09U\",\"message\":\"Post_message__5vz0e\",\"like\":\"Post_like__wEx_S\"};","import s from \"./Post.module.css\"\r\n\r\nfunction Post(props) {\r\n\treturn(\r\n  \t<div className={s.item}>\r\n      <div className={s.avaMessage}>\r\n        <div className={s.ava}>\r\n          <img src=\"https://img3.goodfon.ru/original/2278x1312/1/ae/james-cameron-avatar-neytiri.jpg\"/>\r\n        </div>  \r\n        <div className={s.message}>\r\n          {props.message}\r\n        </div>\r\n      </div> \r\n      <div className={s.like}>\r\n      \t<span>{props.likesCount}</span>\r\n      \t<span> like</span>\r\n      </div>\r\n  \t</div>\r\n    )\r\n}\r\n\r\nexport default Post","import s from \"./MyPosts.module.css\"\r\nimport Post from \"./Post/Post\"\r\nimport React from \"react\"\r\nimport {Form, Field} from \"react-final-form\"\r\nimport {required, maxLenghtCreator} from \"../../../utils/validators/validator\"\r\nimport {Element} from \"../../common/FormsControls/FormsControls\"\r\n\r\nconst Textarea = Element(\"textarea\")\r\n\r\nconst composeValidators = (...validators) => value =>\r\n  validators.reduce((error, validator) => error || validator(value), undefined)\r\n\r\nconst maxLenght10 = maxLenghtCreator(10)\r\n\r\nfunction MyPostsForm(props) {\r\n  return (  \r\n    <Form\r\n    onSubmit={props.onSubmit}>\r\n      {({ handleSubmit }) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <div className={s.form}>\r\n            <div>\r\n              <Field className={s.formArea} name={\"postText\"}\r\n                 component={Textarea} placeholder=\"Start typing\"\r\n                 validate={composeValidators(required, maxLenght10)}/>\r\n            </div> \r\n            <button className={s.addPostButton}>Add post</button>\r\n          </div>    \r\n        </form>\r\n      )}\r\n    </Form>\r\n  )\r\n}\r\n\r\nfunction MyPosts(props) {\r\n  let postsElements = props.posts\r\n    .map( p => <Post message={p.message} likesCount = {p.likesCount} key={p.id}/>)\r\n\r\n  let onAddPost = (formData) => {\r\n     props.addPost(formData.postText)\r\n  }\r\n\r\n\treturn(\r\n        <div>\r\n          <h3 className={s.title}>My posts</h3>\r\n          <div>\r\n            <MyPostsForm onSubmit={onAddPost}/>\r\n          </div>\r\n          <div className={s.posts}>\r\n            {postsElements}\r\n          </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default MyPosts","import {addPostActionCreator} from \"../../../redux/profileReducer\"\r\nimport MyPosts from \"./MyPosts\"   \r\nimport {connect} from \"react-redux\"\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (postText) => {\r\n      dispatch(addPostActionCreator(postText))\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer","import s from \"./ProfileInfo.module.css\"\r\nimport React, {useState, useEffect} from \"react\"\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n   \r\n  \tlet [editMode, setEditMode] = useState(false)\r\n  \tlet [status, setStatus] = useState(props.status)\r\n\r\n  \tuseEffect( () => {\r\n  \t\tsetStatus(props.status)\r\n  \t}, [props.status] )\r\n\r\n  \tconst activateEditMode = () => {\r\n  \t\tsetEditMode(true)\r\n  \t}\r\n\r\n  \tconst deactivateEditMode = () => {\r\n  \t\tsetEditMode(false)\r\n  \t\tprops.updateStatus(status)\r\n  \t}\r\n\r\n  \tconst onStatusChange = (e) => {\r\n  \t\tsetStatus(e.target.value)\r\n  \t}\r\n\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t{editMode ? \t\t    \r\n\t\t\t    <div>\r\n\t\t\t    \t<input value={status} onBlur={deactivateEditMode}\r\n\t\t\t    \t\t autoFocus={true} onChange={onStatusChange}/>\r\n\t\t\t    </div>\r\n\t\t\t: \t<div className={s.statusText}>\r\n\t\t\t    \t<span onDoubleClick={ activateEditMode }>{props.status || \"-----\"}</span>\r\n\t\t\t    </div>\r\n\t\t    }\r\n\t    </div>\t\r\n\t    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import {Element} from \"../../common/FormsControls/FormsControls\"\r\nimport {required, maxLenghtCreator} from \"../../../utils/validators/validator\"\r\nimport {Form, Field} from \"react-final-form\"\r\n\r\n\r\n\r\nconst Input = Element(\"input\")\r\nconst Textarea = Element(\"textarea\")\r\nconst maxLength40 = maxLenghtCreator(40)\r\n\r\n\r\nconst ProfileDataForm = ({profile, onSubmit}) => {\r\n\treturn (\t\r\n\t\t<Form\r\n\t\tonSubmit={onSubmit}\r\n\t\tinitialValues={profile}\r\n\t\t>\r\n\t\t\t{({ handleSubmit }) => (\r\n\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t<div> \r\n\t\t\t\t\t    <div><button>save</button></div>\r\n\t\t\t\t\t    <div>\r\n\t\t\t\t\t      <b>Full name:</b> <Field placeholder={\"Full name\"} name={\"fullName\"}\r\n\t\t\t\t\t\t\t\tcomponent={Input} validate={required}/>\r\n\t\t\t\t\t    </div>\r\n\t\t\t\t\t    <div>\r\n\t\t\t\t\t      <b>Looking for a job:</b> <Field name={\"lookingForAJob\"}\r\n\t\t\t\t\t\t\t\tcomponent={Input} type=\"checkbox\"/>\r\n\t\t\t\t\t    </div>\r\n\t\t\t\t\t    <div>\r\n\t\t\t\t\t      <b>My professional skills</b> <Field name={\"lookingForAJobDescription\"}\r\n\t\t\t\t\t\t\t\tcomponent={Textarea} placeholder={\"My professional skills\"}\r\n\t\t\t\t\t\t\t\tvalidate={maxLength40}/>\r\n\t\t\t\t\t    </div>\r\n\t\t\t\t\t    <div>\r\n\t\t\t\t\t      <b>About me:</b> <Field name={\"aboutMe\"}\r\n\t\t\t\t\t\t\t\tcomponent={Textarea} placeholder={\"About me\"}/>\r\n\t\t\t\t\t    </div>\r\n\t\t\t\t\t    <div>\r\n\t\t\t\t\t      <b>Contacts:</b> {Object.keys(profile.contacts).map(\r\n\t\t\t\t\t          key => <div key={key}>\r\n\t\t\t\t\t          \t<b>{key}:</b> <Field placeholder={key} name={\"contacts.\" + key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent={Input}/>\r\n\t\t\t\t\t          </div>)}  \r\n\t\t\t\t\t    </div>\r\n\t\t\t\t\t  </div> \r\n\t\t\t\t</form>\r\n\t\t\t)}\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nexport default ProfileDataForm","import s from \"./ProfileInfo.module.css\"\r\nimport Preloader from \"./../../common/Preloader/Preloader\"\r\nimport photo from \"../../../assets/images/userImage.png\"\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\"\r\nimport React, {useState} from \"react\"\r\nimport ProfileDataForm from \"./ProfileDataForm\"\r\n\r\n\r\nfunction ProfileInfo(props) {\r\n\r\n  const profile = props.profile\r\n\r\n  let [editMode, setEditMode] = useState(false)\r\n\r\n\tif (props.isFetching || !profile) {\r\n    return <div className={s.preloader}>\r\n      <Preloader />\r\n    </div>\r\n  }\r\n\r\n  const onMainPhotoChange = (e) => {\r\n    if (e.target.files.length) {\r\n      props.savePhoto(e.target.files[0])\r\n    }\r\n  }\r\n\r\n  const onSubmit = (formData) => {\r\n    props.saveProfile(formData)\r\n    .then( () => setEditMode(false))\r\n  } \r\n\r\n  return (\r\n    <div>\r\n      <div className={s.info}>\r\n        <img src={profile.photos.large ? profile.photos.large : photo} className={s.userPhoto}/>\r\n        { props.isOwner && <input type=\"file\" onChange={onMainPhotoChange} className={s.changePhoto}/>}        \r\n        <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n        { props.errorMessage ? <div>{props.errorMessage}</div> : \"\"}\r\n        { editMode ? <ProfileDataForm profile={profile} onSubmit={onSubmit}/> : <ProfileData profile={profile}\r\n          isOwner={props.isOwner} goToEditMode={ () => setEditMode(true)}/> }\r\n              \r\n      </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n  return <div> \r\n    { isOwner && <div><button onClick={goToEditMode}>edit</button></div>}\r\n    <div>\r\n      <b>Full name:</b> {profile.fullName}\r\n    </div>\r\n    <div>\r\n      <b>Looking for a job:</b> {profile.lookingForAJob ? \"yes\" : \"no\"}\r\n    </div>\r\n    { profile.lookingForAJob && \r\n    <div>\r\n      <b>My professional skills</b> {profile.lookingForAJobDescription}\r\n    </div>\r\n    }\r\n    <div>\r\n      <b>About me:</b> {profile.aboutMe}\r\n    </div>\r\n    <div>\r\n      <b>Contacts:</b> {Object.keys(profile.contacts).map(\r\n          key => <Contact key={key} title={key} value={profile.contacts[key]}/>)}  \r\n    </div>\r\n  </div> \r\n}\r\n\r\n\r\n\r\nexport const Contact =({title, value}) => {\r\n  return <div><b>{title}:</b> {value}</div>\r\n}\r\n\r\nexport default ProfileInfo","import s from \"./Profile.module.css\"\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\"\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\"\r\n\r\nfunction Profile(props) {\r\n\t\r\n\treturn(\r\n    <div>\r\n      <ProfileInfo profile={props.profile} isFetching={props.isFetching}\r\n      \t\t\t\tstatus={props.status} updateStatus={props.updateStatus} isOwner={props.isOwner}\r\n      \t\t\t\tsavePhoto={props.savePhoto} saveProfile={props.saveProfile}\r\n      \t\t\t\terrorMessage={props.errorMessage}/>\r\n      <MyPostsContainer /> \r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Profile","import React from \"react\"\r\nimport Profile from \"./Profile\"\r\nimport {connect} from \"react-redux\"\r\nimport {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile} from \"../../redux/profileReducer\"\r\nimport {withRouter} from \"react-router-dom\"\r\nimport {withAuthRedirect} from \"./../../hoc/withAuthRedirect\"\r\nimport {compose} from \"redux\"\r\n\r\nclass ProfileContainer extends React.Component {\r\n\t\r\n\trefreshProfile() {\r\n\t\tlet userId = this.props.match.params.userId\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.AuthUserId\r\n\t\t\tif(!userId) {\r\n\t\t\t\tthis.props.history.push(\"/login\")\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.props.getUserProfile(userId)\r\n\t\tthis.props.getStatus(userId)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.refreshProfile()\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.match.params.userId !== prevProps.match.params.userId) {\t\t\t\r\n\t\t\tthis.refreshProfile()\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\t\r\n\t\treturn( \r\n\t\t      <Profile {...this.props} profile={this.props.profile}\r\n\t\t      \t isFetching={this.props.isFetching} status={this.props.status}\r\n\t\t      \t updateStatus={this.props.updateStatus} isOwner={!this.props.match.params.userId}\r\n\t\t      \t savePhoto={this.props.savePhoto} saveProfile={this.props.saveProfile}\r\n\t\t      \t errorMessage={this.props.errorMessage}/>\r\n\t\t    )\r\n\t    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tprofile: state.profilePage.profile,\r\n\tisFetching: state.profilePage.isFetching,\r\n\tstatus: state.profilePage.status,\r\n\tAuthUserId: state.auth.id,\r\n\tisAuth: state.auth.isAuth,\r\n\terrorMessage: state.profilePage.errorMessage\r\n})\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n\twithRouter,\r\n\twithAuthRedirect\r\n)(ProfileContainer)"],"sourceRoot":""}